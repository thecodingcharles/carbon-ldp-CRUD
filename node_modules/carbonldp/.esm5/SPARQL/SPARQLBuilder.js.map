{"version":3,"sources":["SPARQL/SPARQLBuilder.ts"],"names":[],"mappings":";AAAA,OAAO,EAAiB,QAAQ,EAAE,MAAM,UAAU,CAAC;AACnD,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AA2BhD,SAAS,sBAAsB,CAAE,QAAuC,EAAE,UAAiB;IAC1F,OAAO,UAAE,SAAS,EAAE,MAAM;QACzB,IAAM,YAAY,GAAgC,YAAY,CAAC,UAAU,CAAE,SAAS,EAAE,MAAM,CAAE,CAAC;QAE/F,OAAO,MAAM,CAAC,MAAM,CAAE,YAAY,EAAE;YACnC,OAAO,EAAE,cAAwB,OAAA,QAAQ,CAAC,kBAAkB,CAAK,UAAU,EAAE,YAAY,CAAC,eAAe,EAAE,CAAE,EAA5E,CAA4E;SAC7G,CAAE,CAAC;IACL,CAAC,CAAC;AACH,CAAC;AAED,SAAS,mBAAmB,CAAE,QAAuC,EAAE,UAAiB;IACvF,OAAO,UAAE,SAAS,EAAE,MAAM;QACzB,IAAM,YAAY,GAAgC,YAAY,CAAC,UAAU,CAAE,SAAS,EAAE,MAAM,CAAE,CAAC;QAE/F,OAAO,MAAM,CAAC,MAAM,CAAE,YAAY,EAAE;YACnC,OAAO,EAAE,cAAM,OAAA,QAAQ,CAAC,eAAe,CAAE,UAAU,EAAE,YAAY,CAAC,eAAe,EAAE,CAAE,EAAtE,CAAsE;SACrF,CAAE,CAAC;IACL,CAAC,CAAC;AACH,CAAC;AAMD;IAAmC,yCAA6C;IAK/E,uBAAa,UAAyC,EAAE,UAAiB;QAAzE,iBAKC;QAJA,IAAM,mBAAmB,GAAqC,sBAAsB,CAAE,UAAU,EAAE,UAAU,CAAE,CAAC;QAC/G,IAAM,gBAAgB,GAAkC,mBAAmB,CAAE,UAAU,EAAE,UAAU,CAAE,CAAC;QAEtG,QAAA,kBAAO,mBAAmB,EAAE,gBAAgB,CAAE,SAAC;;IAChD,CAAC;IACF,oBAAC;AAAD,CAXA,AAWC,CAXkC,QAAQ,GAW1C","file":"SPARQLBuilder.js","sourcesContent":["import { FinishFactory, SPARQLER } from \"sparqler\";\nimport { FinishClause } from \"sparqler/clauses\";\n\nimport { SPARQLDocumentsRepositoryTrait } from \"../DocumentsRepository/Traits/SPARQLDocumentsRepositoryTrait\";\nimport { SPARQLSelectResults } from \"./SelectResults\";\n\n\n/**\n * Clause that extends the query builder allowing to execute the request for the SELECT built query.\n */\nexport interface FinishSPARQLSelect extends FinishClause {\n\t/**\n\t * Executes the SPARQL query.\n\t */\n\texecute<T extends object>():Promise<SPARQLSelectResults<T>>;\n}\n\n/**\n * Clause that extends the query builder allowing to execute the request for the ASK built query.\n */\nexport interface FinishSPARQLAsk extends FinishClause {\n\t/**\n\t * Executes the SPARQL query.\n\t */\n\texecute():Promise<boolean>;\n}\n\n\nfunction getFinishSelectFactory( resource:SPARQLDocumentsRepositoryTrait, entryPoint:string ):FinishFactory<FinishSPARQLSelect> {\n\treturn ( container, object ) => {\n\t\tconst finishClause:FinishClause & typeof object = FinishClause.createFrom( container, object );\n\n\t\treturn Object.assign( finishClause, {\n\t\t\texecute: <T extends object>() => resource.executeSELECTQuery<T>( entryPoint, finishClause.toCompactString() ),\n\t\t} );\n\t};\n}\n\nfunction getFinishAskFactory( resource:SPARQLDocumentsRepositoryTrait, entryPoint:string ):FinishFactory<FinishSPARQLAsk> {\n\treturn ( container, object ) => {\n\t\tconst finishClause:FinishClause & typeof object = FinishClause.createFrom( container, object );\n\n\t\treturn Object.assign( finishClause, {\n\t\t\texecute: () => resource.executeASKQuery( entryPoint, finishClause.toCompactString() ),\n\t\t} );\n\t};\n}\n\n\n/**\n * Customized SPARQLER class to be used by the SDK.\n */\nexport class SPARQLBuilder extends SPARQLER<FinishSPARQLSelect, FinishSPARQLAsk> {\n\t/**\n\t * @param repository The repository where the builder is been constructed from.\n\t * @param entryPoint The entry point URI where the query can be executed from.\n\t */\n\tconstructor( repository:SPARQLDocumentsRepositoryTrait, entryPoint:string ) {\n\t\tconst finishSelectFactory:FinishFactory<FinishSPARQLSelect> = getFinishSelectFactory( repository, entryPoint );\n\t\tconst finishAskFactory:FinishFactory<FinishSPARQLAsk> = getFinishAskFactory( repository, entryPoint );\n\n\t\tsuper( finishSelectFactory, finishAskFactory );\n\t}\n}\n"],"sourceRoot":"../../src"}