import { LanguageToken, LiteralToken, RDFLiteralToken } from "sparqler/tokens";
import { isDate } from "../Utils";
import { XSD } from "../Vocabularies/XSD";
export class QueryValue {
    constructor(queryContainer, value) {
        this._value = value;
        this._queryContainer = queryContainer;
        if (isDate(value)) {
            this.withType(XSD.dateTime);
        }
        else {
            this._literal = new LiteralToken(value);
        }
    }
    withType(type) {
        if (XSD.hasOwnProperty(type))
            type = XSD[type];
        const value = this._queryContainer.serializeLiteral(type, this._value);
        const typeToken = this._queryContainer.compactIRI(type);
        this._literal = new RDFLiteralToken(value, typeToken);
        return this;
    }
    withLanguage(language) {
        const value = this._queryContainer.serializeLiteral(XSD.string, this._value);
        const languageToken = new LanguageToken(language);
        this._literal = new RDFLiteralToken(value, languageToken);
        return this;
    }
    getToken() {
        return this._literal;
    }
    toString() {
        return `${this._literal}`;
    }
}

//# sourceMappingURL=QueryValue.js.map
