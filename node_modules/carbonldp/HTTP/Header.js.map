{"version":3,"sources":["HTTP/Header.ts"],"names":[],"mappings":";;AAAA,uEAAsE;AAKtE;IAgDC,gBAAa,MAA2B;QACvC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAE,MAAM,CAAE,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAE,MAAM,CAAE,CAAC;IAC1C,CAAC;IAzCM,mBAAY,GAAnB,UAAqB,aAAoB;QACxC,IAAM,OAAO,GAAuB,IAAI,GAAG,EAAkB,CAAC;QAE9D,aAAa,CAAC,KAAK,CAAE,OAAO,CAAE,CAAC,OAAO,CAAE,UAAA,SAAS;;YAChD,IAAI,CAAE,SAAS,CAAC,IAAI,EAAE;gBAAG,OAAO;YAEhC,IAAM,KAAK,GAAY,SAAS,CAAC,KAAK,CAAE,GAAG,CAAE,CAAC;YAC9C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;gBAAG,MAAM,IAAI,2CAAoB,CAAE,gCAAgC,CAAE,CAAC;YAE1F,IAAM,IAAI,GAAU,KAAK,CAAE,CAAC,CAAE,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;YACpD,IAAM,MAAM,GAAY,MAAM,CAAC,aAAa,CAAE,KAAK,CAAC,KAAK,CAAE,CAAC,CAAE,CAAC,IAAI,CAAE,GAAG,CAAE,CAAE,CAAC;YAE7E,IAAI,OAAO,CAAC,GAAG,CAAE,IAAI,CAAE,EAAG;gBACzB,CAAA,KAAA,OAAO,CAAC,GAAG,CAAE,IAAI,CAAG,CAAC,MAAM,CAAA,CAAC,IAAI,WAAK,MAAM,EAAG;aAC9C;iBAAM;gBACN,OAAO,CAAC,GAAG,CAAE,IAAI,EAAE,IAAI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC;aAC1C;QACF,CAAC,CAAE,CAAC;QAEJ,OAAO,OAAO,CAAC;IAChB,CAAC;IAEc,oBAAa,GAA5B,UAA8B,SAA4B;QACzD,IAAI,CAAE,SAAS;YAAG,OAAO,EAAE,CAAC;QAE5B,OAAO,SAAS;aACd,KAAK,CAAE,GAAG,CAAE;aACZ,GAAG,CAAE,UAAA,WAAW;YAChB,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC,CAAE,CACF;IACH,CAAC;IAgBD,yBAAQ,GAAR,UAAU,KAAY;QACrB,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAE,KAAK,CAAE,KAAK,CAAE,CAAC,CAAC;IAC7C,CAAC;IAMD,yBAAQ,GAAR,UAAU,KAAY;;QACrB,IAAM,SAAS,GAAY,MAAM,CAAC,aAAa,CAAE,KAAK,CAAE,CAAC;QACzD,CAAA,KAAA,IAAI,CAAC,MAAM,CAAA,CAAC,IAAI,WAAK,SAAS,EAAG;IAClC,CAAC;IAKD,yBAAQ,GAAR;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC;IACjC,CAAC;IACF,aAAC;AAAD,CA5EA,AA4EC,IAAA;AA5EY,wBAAM","file":"Header.js","sourcesContent":["import { IllegalArgumentError } from \"../Errors/IllegalArgumentError\";\n\n/**\n * Class to manage the values in an HTTP header.\n */\nexport class Header {\n\t/**\n\t * Array with each value of the header.\n\t */\n\treadonly values:string[];\n\n\t/**\n\t * Returns a Map which relates all header names with a {@link Header} object containing their values.\n\t * @param headersString The string to be parsed into a map of name -> Header.\n\t */\n\tstatic parseHeaders( headersString:string ):Map<string, Header> {\n\t\tconst headers:Map<string, Header> = new Map<string, Header>();\n\n\t\theadersString.split( /\\r?\\n/ ).forEach( strHeader => {\n\t\t\tif( ! strHeader.trim() ) return;\n\n\t\t\tconst parts:string[] = strHeader.split( \":\" );\n\t\t\tif( parts.length < 2 ) throw new IllegalArgumentError( \"The header couldn't be parsed.\" );\n\n\t\t\tconst name:string = parts[ 0 ].trim().toLowerCase();\n\t\t\tconst values:string[] = Header.__parseValues( parts.slice( 1 ).join( \":\" ) );\n\n\t\t\tif( headers.has( name ) ) {\n\t\t\t\theaders.get( name )!.values.push( ...values );\n\t\t\t} else {\n\t\t\t\theaders.set( name, new Header( values ) );\n\t\t\t}\n\t\t} );\n\n\t\treturn headers;\n\t}\n\n\tprivate static __parseValues( strValues:string | undefined ):string[] {\n\t\tif( ! strValues ) return [];\n\n\t\treturn strValues\n\t\t\t.split( \",\" )\n\t\t\t.map( valueString => {\n\t\t\t\treturn valueString.trim();\n\t\t\t} )\n\t\t\t;\n\t}\n\n\t/**\n\t * Create an instance with an array of values or a string that will be parsed\n\t * into the multiple values that may contain.\n\t * @param values The array of values of the string to be parsed.\n\t */\n\tconstructor( values?:(string | string[]) ) {\n\t\tthis.values = Array.isArray( values ) ?\n\t\t\tvalues : Header.__parseValues( values );\n\t}\n\n\t/**\n\t * Returns true when the specified value exists in the values stored.\n\t * @param value The value to check if is stored.\n\t */\n\thasValue( value:string ):boolean {\n\t\treturn this.values.indexOf( value ) !== - 1;\n\t}\n\n\t/**\n\t * Parse and add the string value(s) into the current header.\n\t * @param value Value or values to add.\n\t */\n\taddValue( value:string ):void {\n\t\tconst newValues:string[] = Header.__parseValues( value );\n\t\tthis.values.push( ...newValues );\n\t}\n\n\t/**\n\t * Returns the string representation of all the values of the headers.\n\t */\n\ttoString():string {\n\t\treturn this.values.join( \", \" );\n\t}\n}\n"],"sourceRoot":"../../src"}