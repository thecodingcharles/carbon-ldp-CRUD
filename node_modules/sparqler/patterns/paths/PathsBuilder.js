"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var DeniableFluentPath_1 = require("./DeniableFluentPath");
var FluentPath_1 = require("./FluentPath");
var FluentPathContainer_1 = require("./FluentPathContainer");
var PathBuilder_1 = require("./PathBuilder");
var utils_1 = require("./utils");
function _getContainer(container, targetToken) {
    return new FluentPathContainer_1.FluentPathContainer(tslib_1.__assign({}, container, { targetToken: targetToken, fluentPathFactory: FluentPath_1.FluentPath.createFrom, deniableFluentPathFactory: DeniableFluentPath_1.DeniableFluentPath.createFrom }));
}
function _parseProperty(container, property) {
    var targetToken = utils_1.getPropertyToken(container, property);
    var newContainer = _getContainer(container, targetToken);
    return DeniableFluentPath_1.DeniableFluentPath.createFrom(newContainer, {});
}
function getPathFn(container) {
    return function (propertyOrBuilderFn) {
        if (typeof propertyOrBuilderFn !== "function")
            return _parseProperty(container, propertyOrBuilderFn);
        var newContainer = _getContainer(container);
        var pathBuilder = PathBuilder_1.PathBuilder.createFrom(newContainer, {});
        return propertyOrBuilderFn(pathBuilder);
    };
}
exports.PathsBuilder = {
    createFrom: function (container, object) {
        return Object.assign(object, {
            path: getPathFn(container),
        });
    }
};

//# sourceMappingURL=PathsBuilder.js.map
