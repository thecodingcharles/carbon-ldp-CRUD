import { DeniableFluentPath } from "./DeniableFluentPath";
import { FluentPath } from "./FluentPath";
import { FluentPathContainer } from "./FluentPathContainer";
import { PathBuilder } from "./PathBuilder";
import { getPropertyToken } from "./utils";
function _getContainer(container, targetToken) {
    return new FluentPathContainer(Object.assign({}, container, { targetToken: targetToken, fluentPathFactory: FluentPath.createFrom, deniableFluentPathFactory: DeniableFluentPath.createFrom }));
}
function _parseProperty(container, property) {
    const targetToken = getPropertyToken(container, property);
    const newContainer = _getContainer(container, targetToken);
    return DeniableFluentPath.createFrom(newContainer, {});
}
function getPathFn(container) {
    return (propertyOrBuilderFn) => {
        if (typeof propertyOrBuilderFn !== "function")
            return _parseProperty(container, propertyOrBuilderFn);
        const newContainer = _getContainer(container);
        const pathBuilder = PathBuilder.createFrom(newContainer, {});
        return propertyOrBuilderFn(pathBuilder);
    };
}
export const PathsBuilder = {
    createFrom(container, object) {
        return Object.assign(object, {
            path: getPathFn(container),
        });
    }
};

//# sourceMappingURL=PathsBuilder.js.map
