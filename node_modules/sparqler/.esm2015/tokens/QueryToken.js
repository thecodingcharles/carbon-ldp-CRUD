import { getSeparator } from "./printing";
export class QueryToken {
    constructor(query, values) {
        this.token = "query";
        this.prologues = [];
        this.queryClause = query;
        this.values = values;
    }
    addPrologues(...prologues) {
        this.prologues.push(...prologues);
        return this;
    }
    toString(spaces) {
        const separator = getSeparator(spaces);
        let query = this.prologues
            .map(prologue => {
            if (prologue.token === "base")
                return prologue + "\n";
            return prologue + separator;
        })
            .join("");
        if (this.queryClause)
            query += this.queryClause.toString(spaces);
        if (this.values)
            query += separator + this.values.toString(spaces);
        return query;
    }
}

//# sourceMappingURL=QueryToken.js.map
